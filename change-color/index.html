<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../common/style.css">
    <title>WebGL base</title>
    <style>
        .canvas {
            height: calc(100vh - 345px);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Меняем Фрагментный шейдер</h1>
        <div class="change-color__button-list">
            <button class="_big-fsz js-render js-button" data-type="default">rgba</button>
            <button class="_big-fsz js-render js-button" data-type="grba">rgba <br> grba</button>
            <button class="_big-fsz js-render js-button" data-type="gbra">rgba <br> bgra</button>
            <button class="_big-fsz js-render js-button" data-type="rrra">rgba <br> rrra</button>
            <a class="change-color__back-link"href="/?full&next=4#slide-4">К презентации</a>
        </div>
        <canvas class="canvas js-canvas"></canvas>

        <!-- webgl -->
        <script type="not-js" class="js-vertex-shader">
            attribute vec4 a_position;
            attribute vec2 a_texCoord;
            uniform mat4 u_matrix;
            varying vec2 v_texCoord;

            void main() {
                gl_Position = u_matrix * a_position;
                v_texCoord = a_texCoord;
            }
        </script>
        <script type="not-js" class="js-fragment-shader" data-type="default">
            precision mediump float;

            varying vec2 v_texCoord;
            uniform sampler2D u_texture;

            void main() {
                gl_FragColor = texture2D(u_texture, v_texCoord);
            }
        </script>
        <script type="not-js" class="js-fragment-shader" data-type="grba">
            precision mediump float;

            varying vec2 v_texCoord;
            uniform sampler2D u_texture;

            void main() {
                gl_FragColor = texture2D(u_texture, v_texCoord).grba;
            }
        </script>
        <script type="not-js" class="js-fragment-shader" data-type="gbra">
            precision mediump float;

            varying vec2 v_texCoord;
            uniform sampler2D u_texture;

            void main() {
                gl_FragColor = texture2D(u_texture, v_texCoord).bgra;
            }
        </script>
        <script type="not-js" class="js-fragment-shader" data-type="rrra">
            precision mediump float;

            varying vec2 v_texCoord;
            uniform sampler2D u_texture;

            void main() {
                gl_FragColor = texture2D(u_texture, v_texCoord).rrra;
            }
        </script>
        <!-- webgl end -->
    </div>
    <script src="../common/m4.js"></script>
    <script src="../common/webgl-utils.js"></script>
    <script src="../common/script.js"></script>
    <script src="script.js"></script>
</body>
</html>